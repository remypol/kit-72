---
type Locale = 'es' | 'nl' | 'de';

interface Props {
  locale?: Locale;
}

const { locale = 'es' } = Astro.props;
const currentYear = new Date().getFullYear();

// Footer links per locale
interface FooterSection {
  title: string;
  links: { href: string; label: string }[];
}

interface FooterContent {
  guides: FooterSection;
  tools: FooterSection;
  legal: FooterSection;
  tagline: string;
  copyright: string;
  affiliateNote: string;
  moreInfo: string;
}

const footerContentPerLocale: Record<Locale, FooterContent> = {
  es: {
    guides: {
      title: 'Guías',
      links: [
        { href: '/es/kit-de-emergencia/', label: 'Kit de Emergencia' },
        { href: '/es/kit-72-horas/', label: 'Kit 72 Horas' },
        { href: '/es/guias/almacenamiento-agua/', label: 'Almacenamiento de Agua' },
        { href: '/es/guias/energia-comunicacion/', label: 'Energía y Comunicación' },
      ],
    },
    tools: {
      title: 'Herramientas',
      links: [
        { href: '/es/herramientas/configurador-kit/', label: 'Configurador de Kit' },
        { href: '/es/herramientas/calculadora-agua/', label: 'Calculadora de Agua' },
        { href: '/es/herramientas/calculadora-energia/', label: 'Calculadora de Energía' },
      ],
    },
    legal: {
      title: 'Legal',
      links: [
        { href: '/es/politica-editorial/', label: 'Política Editorial' },
        { href: '/es/afiliados/', label: 'Afiliados' },
        { href: '/es/privacidad/', label: 'Privacidad' },
        { href: '/es/cookies/', label: 'Cookies' },
      ],
    },
    tagline: 'Guías y herramientas para preparar tu kit de emergencia. Información práctica, sin alarmismo.',
    copyright: 'Todos los derechos reservados.',
    affiliateNote: 'Este sitio contiene enlaces de afiliado.',
    moreInfo: 'Más información',
  },
  nl: {
    guides: {
      title: 'Gidsen',
      links: [
        { href: '/nl/noodpakket-samenstellen/', label: 'Noodpakket Samenstellen' },
        { href: '/nl/noodpakket-72-uur/', label: 'Noodpakket 72 Uur' },
        { href: '/nl/gidsen/water-opslaan/', label: 'Water Opslaan' },
        { href: '/nl/gidsen/energie-communicatie/', label: 'Energie & Communicatie' },
      ],
    },
    tools: {
      title: 'Tools',
      links: [
        { href: '/nl/tools/noodpakket-samenstellen/', label: 'Noodpakket Samenstellen' },
        { href: '/nl/tools/water-calculator/', label: 'Water Calculator' },
        { href: '/nl/tools/energie-calculator/', label: 'Energie Calculator' },
      ],
    },
    legal: {
      title: 'Juridisch',
      links: [
        { href: '/nl/redactioneel-beleid/', label: 'Redactioneel Beleid' },
        { href: '/nl/affiliate-disclaimer/', label: 'Affiliate Disclaimer' },
        { href: '/nl/privacy/', label: 'Privacy' },
        { href: '/nl/cookies/', label: 'Cookies' },
      ],
    },
    tagline: 'Gidsen en tools voor je noodpakket. Praktische informatie, zonder paniek.',
    copyright: 'Alle rechten voorbehouden.',
    affiliateNote: 'Deze site bevat affiliate links.',
    moreInfo: 'Meer informatie',
  },
  de: {
    guides: {
      title: 'Ratgeber',
      links: [
        { href: '/de/notfallausruestung/', label: 'Notfallausrüstung' },
        { href: '/de/notfallpaket-72-stunden/', label: 'Notfallpaket 72 Stunden' },
        { href: '/de/ratgeber/wasser-lagerung/', label: 'Wasser Lagerung' },
        { href: '/de/ratgeber/energie-kommunikation/', label: 'Energie & Kommunikation' },
      ],
    },
    tools: {
      title: 'Tools',
      links: [
        { href: '/de/tools/notfallpaket-zusammenstellen/', label: 'Notfallpaket Zusammenstellen' },
        { href: '/de/tools/wasser-rechner/', label: 'Wasser-Rechner' },
        { href: '/de/tools/energie-rechner/', label: 'Energie-Rechner' },
      ],
    },
    legal: {
      title: 'Rechtliches',
      links: [
        { href: '/de/redaktionelle-richtlinien/', label: 'Redaktionelle Richtlinien' },
        { href: '/de/affiliate-hinweis/', label: 'Affiliate-Hinweis' },
        { href: '/de/datenschutz/', label: 'Datenschutz' },
        { href: '/de/cookies/', label: 'Cookies' },
      ],
    },
    tagline: 'Ratgeber und Tools für dein Notfallpaket. Praktische Informationen, ohne Panikmache.',
    copyright: 'Alle Rechte vorbehalten.',
    affiliateNote: 'Diese Website enthält Affiliate-Links.',
    moreInfo: 'Mehr Informationen',
  },
};

const content = footerContentPerLocale[locale];
const affiliateLinkPerLocale: Record<Locale, string> = {
  es: '/es/afiliados/',
  nl: '/nl/affiliate-disclaimer/',
  de: '/de/affiliate-hinweis/',
};
---

<footer class="border-t border-[--color-border] bg-[--color-bg-secondary]">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 py-12">
    <!-- Footer Grid -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
      <!-- Brand Column -->
      <div class="col-span-2 md:col-span-1">
        <a href={`/${locale}/`} class="inline-block mb-4">
          <span class="text-2xl font-bold tracking-tight">
            Kit<span class="text-[--color-accent-primary]">-72</span>
          </span>
        </a>
        <p class="text-sm text-[--color-text-secondary] leading-relaxed">
          {content.tagline}
        </p>
      </div>

      <!-- Guides -->
      <div>
        <h4 class="text-sm font-semibold text-[--color-text-primary] mb-4 uppercase tracking-wider">
          {content.guides.title}
        </h4>
        <ul class="space-y-2">
          {content.guides.links.map((link) => (
            <li>
              <a
                href={link.href}
                class="text-sm text-[--color-text-secondary] hover:text-[--color-accent-primary] transition-colors"
              >
                {link.label}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Tools -->
      <div>
        <h4 class="text-sm font-semibold text-[--color-text-primary] mb-4 uppercase tracking-wider">
          {content.tools.title}
        </h4>
        <ul class="space-y-2">
          {content.tools.links.map((link) => (
            <li>
              <a
                href={link.href}
                class="text-sm text-[--color-text-secondary] hover:text-[--color-accent-primary] transition-colors"
              >
                {link.label}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Legal -->
      <div>
        <h4 class="text-sm font-semibold text-[--color-text-primary] mb-4 uppercase tracking-wider">
          {content.legal.title}
        </h4>
        <ul class="space-y-2">
          {content.legal.links.map((link) => (
            <li>
              <a
                href={link.href}
                class="text-sm text-[--color-text-secondary] hover:text-[--color-accent-primary] transition-colors"
              >
                {link.label}
              </a>
            </li>
          ))}
        </ul>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="pt-8 border-t border-[--color-border]">
      <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
        <p class="text-sm text-[--color-text-muted]">
          © {currentYear} Kit-72. {content.copyright}
        </p>
        <p class="text-xs text-[--color-text-muted]">
          {content.affiliateNote}
          <a href={affiliateLinkPerLocale[locale]} class="hover:text-[--color-accent-primary]">{content.moreInfo}</a>
        </p>
      </div>
    </div>
  </div>
</footer>

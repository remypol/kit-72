---
/**
 * QuickRecommendation Component
 *
 * Highlighted product recommendation card that appears at the top
 * of product/component pages. Shows the "best pick" prominently.
 */

interface Props {
  /** Product name */
  name: string;
  /** Short reason why this is recommended */
  reason: string;
  /** Price range or exact price */
  price: string;
  /** Amazon search/product URL */
  amazonUrl: string;
  /** Optional badge text */
  badge?: string;
  /** Key features (3-4 max) */
  features?: string[];
}

const { name, reason, price, amazonUrl, badge = 'Recomendado', features = [] } = Astro.props;
---

<div class="quick-recommendation">
  <div class="recommendation-header">
    <span class="recommendation-badge">{badge}</span>
    <span class="recommendation-price">{price}</span>
  </div>

  <h3 class="recommendation-name">{name}</h3>
  <p class="recommendation-reason">{reason}</p>

  {features.length > 0 && (
    <div class="recommendation-features">
      {features.map((feature) => (
        <span class="feature-tag">{feature}</span>
      ))}
    </div>
  )}

  <a
    href={amazonUrl}
    target="_blank"
    rel="noopener noreferrer nofollow"
    class="recommendation-cta"
  >
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/>
    </svg>
    Ver en Amazon
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M7 7h10v10"/><path d="M7 17 17 7"/>
    </svg>
  </a>
</div>

<style>
  .quick-recommendation {
    background: linear-gradient(135deg, var(--color-accent-primary)/0.1 0%, var(--color-accent-secondary)/0.05 100%);
    border: 1px solid var(--color-accent-primary)/0.3;
    border-radius: 16px;
    padding: 24px;
    margin-bottom: 32px;
  }

  .recommendation-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
  }

  .recommendation-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 12px;
    background: var(--color-accent-primary);
    color: var(--color-bg-primary);
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 20px;
  }

  .recommendation-price {
    font-size: 20px;
    font-weight: 700;
    color: var(--color-accent-primary);
  }

  .recommendation-name {
    font-size: 20px;
    font-weight: 700;
    color: var(--color-text-primary);
    margin: 0 0 8px 0;
  }

  .recommendation-reason {
    font-size: 15px;
    color: var(--color-text-secondary);
    margin: 0 0 16px 0;
    line-height: 1.5;
  }

  .recommendation-features {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 20px;
  }

  .feature-tag {
    padding: 4px 10px;
    background: var(--color-bg-tertiary);
    color: var(--color-text-muted);
    font-size: 12px;
    border-radius: 6px;
  }

  .recommendation-cta {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 20px;
    background: var(--color-accent-primary);
    color: var(--color-bg-primary);
    font-size: 14px;
    font-weight: 600;
    border-radius: 10px;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .recommendation-cta:hover {
    background: var(--color-accent-secondary);
    transform: translateY(-1px);
  }

  @media (max-width: 480px) {
    .quick-recommendation {
      padding: 20px;
    }

    .recommendation-name {
      font-size: 18px;
    }

    .recommendation-cta {
      width: 100%;
      justify-content: center;
    }
  }
</style>

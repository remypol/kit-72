---
import BaseLayout from '../../../../layouts/BaseLayout.astro';
import ProductGrid from '../../../../components/content/ProductGrid.astro';
import Icon from '../../../../components/ui/Icon.astro';
import QuickRecommendation from '../../../../components/content/QuickRecommendation.astro';
import AddToKitButton from '../../../../components/tools/AddToKitButton';

// Kit item IDs for water storage
const relatedKitItems = [
  { id: 'agua-1', name: 'Agua embotellada' },
  { id: 'agua-2', name: 'Pastillas potabilizadoras' },
  { id: 'agua-3', name: 'Filtro de agua portátil' },
];

const amazonProducts = [
  {
    name: 'Bidón HDPE 10L con Grifo',
    description: 'Bidón alimentario con grifo dispensador, ideal para cocina',
    amazonUrl: 'https://www.amazon.es/s?k=bidon+agua+10+litros+grifo+alimentario',
    price: '~15€',
    rating: 4.4,
    features: ['10 litros', 'Grifo incluido', 'HDPE alimentario'],
    badge: 'recommended' as const
  },
  {
    name: 'Garrafa Plegable 10L',
    description: 'Contenedor flexible que se pliega vacío, perfecto para mochila',
    amazonUrl: 'https://www.amazon.es/s?k=garrafa+plegable+10+litros',
    price: '~12€',
    rating: 4.2,
    features: ['Plegable', '10 litros', 'Ligera'],
    badge: 'best-value' as const
  },
  {
    name: 'Bidón Militar 20L',
    description: 'Jerry can robusto estilo militar, muy duradero',
    amazonUrl: 'https://www.amazon.es/s?k=bidon+militar+20+litros+agua',
    price: '~35€',
    rating: 4.5,
    features: ['20 litros', 'Ultra resistente', 'Hermético'],
    badge: 'premium' as const
  },
  {
    name: 'Pastillas Potabilizadoras Aquatabs',
    description: '50 pastillas para purificar agua, esencial para emergencias',
    amazonUrl: 'https://www.amazon.es/s?k=pastillas+potabilizadoras+aquatabs',
    price: '~10€',
    rating: 4.6,
    features: ['50 pastillas', 'Fácil uso', '1 pastilla = 1L']
  }
];

const containerTypes = [
  {
    name: 'Botellas de agua comercial',
    description: 'Agua embotellada del supermercado, sellada de fábrica',
    pros: ['Lista para beber', 'Sellada y segura', 'Larga caducidad (2 años)', 'Portátil'],
    cons: ['Más cara por litro', 'Plástico de un uso', 'Ocupa espacio'],
    bestFor: 'Reserva de bebida principal, evacuación',
    capacity: '0.5-8L',
    icon: 'Bottle'
  },
  {
    name: 'Garrafas alimentarias',
    description: 'Bidones de plástico HDPE aptos para agua potable',
    pros: ['Económicas', 'Reutilizables', 'Varios tamaños', 'Fácil almacenar'],
    cons: ['Hay que llenarlas', 'Rotar cada 6 meses', 'Requiere tratamiento'],
    bestFor: 'Almacenamiento principal en casa',
    capacity: '5-25L',
    icon: 'Container'
  },
  {
    name: 'Bidones con grifo',
    description: 'Contenedores grandes con dispensador incorporado',
    pros: ['Fácil servir', 'Gran capacidad', 'Apilables algunos', 'Duraderos'],
    cons: ['Pesados llenos', 'Difícil mover', 'Más caros'],
    bestFor: 'Punto de agua fijo en casa',
    capacity: '10-50L',
    icon: 'Droplets'
  },
  {
    name: 'Depósito IBC',
    description: 'Contenedor industrial de 1000L en jaula metálica',
    pros: ['Máxima capacidad', 'Precio por litro bajo', 'Grifo incluido'],
    cons: ['Enorme', 'Muy pesado', 'Requiere espacio exterior'],
    bestFor: 'Reserva a largo plazo, fincas, granjas',
    capacity: '600-1000L',
    icon: 'Package'
  },
  {
    name: 'Bolsas de agua plegables',
    description: 'Contenedores flexibles que se pliegan vacíos',
    pros: ['Ocupan poco vacías', 'Ligeras', 'Ideales para mochila', 'Económicas'],
    cons: ['Menos duraderas', 'Difícil limpiar', 'No para largo plazo'],
    bestFor: 'Kit de evacuación, camping',
    capacity: '5-20L',
    icon: 'Droplet'
  },
  {
    name: 'Bidones militares/Jerry can',
    description: 'Contenedores robustos estilo militar',
    pros: ['Muy resistentes', 'Apilables', 'Duran décadas', 'Herméticos'],
    cons: ['Caros', 'Pesados', 'Más difícil encontrar alimentarios'],
    bestFor: 'Vehículo, uso rudo, almacenamiento prolongado',
    capacity: '10-20L',
    icon: 'HardHat'
  }
];

const materials = [
  {
    name: 'HDPE (Polietileno alta densidad)',
    code: '2',
    safe: true,
    notes: 'El mejor para agua. Busca símbolo reciclaje #2. Opaco.',
    icon: 'CircleCheck'
  },
  {
    name: 'PET (Tereftalato polietileno)',
    code: '1',
    safe: true,
    notes: 'Botellas comerciales. No reutilizar muchas veces. Transparente.',
    icon: 'CircleCheck'
  },
  {
    name: 'PP (Polipropileno)',
    code: '5',
    safe: true,
    notes: 'Seguro, resiste calor. Común en tapas y algunos bidones.',
    icon: 'CircleCheck'
  },
  {
    name: 'LDPE (Polietileno baja densidad)',
    code: '4',
    safe: true,
    notes: 'Bolsas y contenedores flexibles. Apto pero menos robusto.',
    icon: 'AlertTriangle'
  },
  {
    name: 'PVC',
    code: '3',
    safe: false,
    notes: 'EVITAR. Puede liberar químicos. Común en tuberías, no en almacenamiento.',
    icon: 'CircleX'
  },
  {
    name: 'PS (Poliestireno)',
    code: '6',
    safe: false,
    notes: 'EVITAR. Puede liberar estireno. Usado en vasos desechables.',
    icon: 'CircleX'
  },
  {
    name: 'Otros (PC, etc.)',
    code: '7',
    safe: false,
    notes: 'EVITAR salvo que indique "BPA free". Incluye policarbonato.',
    icon: 'CircleX'
  }
];

const recommendations = [
  {
    type: 'Bebida inmediata',
    name: 'Agua embotellada 1.5-2L',
    price: '0.30-0.50€/L',
    features: ['Sellada', '2 años caducidad', 'Lista para usar', 'Portátil'],
    verdict: 'Para beber. Mínimo 9L por persona (3 días).',
    priority: 'essential'
  },
  {
    type: 'Reserva principal',
    name: 'Garrafas HDPE 5-10L',
    price: '3-8€ cada una',
    features: ['Reutilizables', 'Asa para transportar', 'Apilables', 'Económicas'],
    verdict: 'El caballo de batalla. 2-4 por persona.',
    priority: 'essential'
  },
  {
    type: 'Punto fijo hogar',
    name: 'Bidón con grifo 20L',
    price: '15-30€',
    features: ['Grifo dispensador', 'Base estable', 'Fácil servir', 'Gran capacidad'],
    verdict: 'Para cocina/baño. Uno por zona de uso.',
    priority: 'recommended'
  },
  {
    type: 'Kit evacuación',
    name: 'Bolsa plegable 10L',
    price: '5-15€',
    features: ['Plegable', 'Ligera', 'Cabe en mochila', 'Asa/correa'],
    verdict: 'Esencial si tienes que moverte. Muy práctica.',
    priority: 'recommended'
  },
  {
    type: 'Vehículo',
    name: 'Jerry can alimentario 20L',
    price: '20-40€',
    features: ['Robusto', 'Apilable', 'Hermético', 'Duradero'],
    verdict: 'Para el coche o almacenamiento rudo.',
    priority: 'optional'
  },
  {
    type: 'Gran reserva',
    name: 'Depósito IBC 1000L',
    price: '50-150€ usado',
    features: ['Máxima capacidad', 'Grifo', 'Palé incluido', 'Industrial'],
    verdict: 'Solo si tienes espacio exterior. Ideal para huertos/fincas.',
    priority: 'optional'
  }
];

const storageLocations = [
  { location: 'Despensa/almacén', temp: '10-20°C', pros: 'Oscuro, fresco, accesible', cons: 'Espacio limitado' },
  { location: 'Garaje', temp: 'Variable', pros: 'Mucho espacio', cons: 'Puede helar o calentarse' },
  { location: 'Sótano', temp: '12-18°C', pros: 'Temperatura estable', cons: 'Puede haber humedad' },
  { location: 'Bajo escalera', temp: 'Variable', pros: 'Espacio muerto aprovechado', cons: 'Acceso incómodo' },
  { location: 'Armario interior', temp: '18-22°C', pros: 'Oscuro, limpio', cons: 'Poco espacio' },
  { location: 'Terraza/exterior', temp: 'Exterior', pros: 'Espacio libre', cons: 'Sol, heladas, degradación' }
];

const waterTreatment = [
  { method: 'Sin tratamiento (agua grifo)', duration: '6 meses', notes: 'El cloro residual protege. Rotar regularmente.' },
  { method: 'Pastillas potabilizadoras', duration: '5 años', notes: 'Sigue instrucciones. Sabor a cloro.' },
  { method: 'Lejía (hipoclorito sodio 5%)', duration: '1 año', notes: '2 gotas/litro. Solo lejía sin perfume ni aditivos.' },
  { method: 'Conservante comercial', duration: '5 años', notes: 'Productos específicos como Aqua Clean.' },
  { method: 'Agua destilada', duration: '2+ años', notes: 'Para uso médico/baterías. No ideal para beber largo plazo.' }
];

const calculatorData = {
  perPersonPerDay: 3,
  breakdown: [
    { use: 'Beber', liters: 2 },
    { use: 'Cocinar', liters: 0.5 },
    { use: 'Higiene básica', liters: 0.5 }
  ]
};

const kitSuggestion = [
  { item: 'Agua embotellada 1.5L', qty: '6-12', notes: 'Por persona, para beber' },
  { item: 'Garrafa HDPE 5L', qty: '2-4', notes: 'Por persona, uso general' },
  { item: 'Bidón con grifo 20L', qty: '1', notes: 'Punto de agua principal' },
  { item: 'Bolsa plegable 10L', qty: '1-2', notes: 'Para mochila evacuación' },
  { item: 'Pastillas potabilizadoras', qty: '1 caja', notes: '50 pastillas = 50L tratados' },
  { item: 'Filtro de agua portátil', qty: '1', notes: 'Opcional pero muy útil' }
];

const commonMistakes = [
  'Usar contenedores de leche o zumo (imposible eliminar residuos)',
  'Guardar agua en contenedores no alimentarios',
  'Dejar bidones al sol (degradación plástico + algas)',
  'Olvidar rotar el agua (se estanca)',
  'Almacenar cerca de productos químicos',
  'No etiquetar con fecha de llenado',
  'Llenar completamente (el agua se expande si congela)',
  'Usar lejía con perfume o aditivos'
];

---

<BaseLayout
  title="Bidones para agua: Material y tamaño — Guía de compra"
  description="Guía completa de recipientes para almacenar agua de emergencia: tipos de bidones, materiales seguros, tratamiento y conservación."
  locale="es"
  dateModified="2025-12-15"
  schemaType="Article"
>
  <section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6">
      <!-- Header -->
      <div class="mb-12">
        <nav class="text-sm mb-4">
          <ol class="flex items-center gap-2 text-[--color-text-muted]">
            <li><a href="/es/" class="hover:text-[--color-accent-primary]">Inicio</a></li>
            <li>/</li>
            <li><a href="/es/componentes/" class="hover:text-[--color-accent-primary]">Componentes</a></li>
            <li>/</li>
            <li class="text-[--color-text-primary]">Bidones de Agua</li>
          </ol>
        </nav>
        <h1 class="mb-4 flex items-center gap-3">
          <Icon name="Droplet" size={32} class="text-[--color-accent-primary]" />
          Bidones y Almacenamiento de Agua
        </h1>
        <p class="text-lg text-[--color-text-secondary]">
          El agua es lo más crítico en emergencias. Sin ella solo sobrevives 3 días.
          Elegir los recipientes correctos y almacenar bien es fundamental.
        </p>
      </div>

      <!-- Quick Recommendation -->
      <div class="card p-6 mb-8 border-l-4 border-l-[--color-accent-primary]">
        <h3 class="font-semibold mb-2 text-[--color-text-primary] flex items-center gap-2">
          <Icon name="Droplet" size={20} class="text-[--color-accent-primary]" />
          Recomendación rápida
        </h3>
        <p class="text-[--color-text-secondary] m-0">
          <strong>Mínimo:</strong> 9 litros por persona para 3 días (3L/día).
          <strong>Ideal:</strong> 20-30 litros por persona combinando botellas y bidones.
          <strong>Presupuesto:</strong> 20-50€ en contenedores reutilizables.
        </p>
      </div>

      <!-- Quick Calculator -->
      <div class="card p-6 mb-8 bg-[--color-bg-tertiary]">
        <h3 class="font-semibold mb-4 text-[--color-text-primary] flex items-center gap-2">
          <Icon name="Calculator" size={20} class="text-[--color-accent-primary]" />
          Calcula tu necesidad
        </h3>
        <div class="text-sm text-[--color-text-secondary] space-y-3">
          <p><strong>Fórmula:</strong> Personas × 3L × Días = Litros totales</p>
          <div class="grid grid-cols-3 gap-4 text-center">
            <div class="p-3 bg-[--color-bg-primary] rounded">
              <p class="text-2xl font-bold text-[--color-accent-primary]">9L</p>
              <p class="text-xs">1 persona / 3 días</p>
            </div>
            <div class="p-3 bg-[--color-bg-primary] rounded">
              <p class="text-2xl font-bold text-[--color-accent-primary]">36L</p>
              <p class="text-xs">4 personas / 3 días</p>
            </div>
            <div class="p-3 bg-[--color-bg-primary] rounded">
              <p class="text-2xl font-bold text-[--color-accent-primary]">84L</p>
              <p class="text-xs">4 personas / 7 días</p>
            </div>
          </div>
          <p class="text-xs text-[--color-text-muted]">Esto es el mínimo. Añade más para mascotas, clima caluroso o mayor confort.</p>
        </div>
      </div>

      <!-- Container Types -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-[--color-text-primary]">Tipos de recipientes</h2>

        <div class="space-y-4">
          {containerTypes.map((type) => (
            <div class="card p-6">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 flex items-center justify-center bg-[--color-bg-tertiary] rounded-lg flex-shrink-0">
                  <Icon name={type.icon as any} size={28} class="text-[--color-accent-primary]" />
                </div>
                <div class="flex-1">
                  <div class="flex items-center gap-3 mb-2">
                    <h3 class="font-semibold text-[--color-text-primary]">{type.name}</h3>
                    <span class="text-xs px-2 py-1 bg-[--color-bg-tertiary] text-[--color-text-muted] rounded">
                      {type.capacity}
                    </span>
                  </div>
                  <p class="text-sm text-[--color-text-secondary] mb-3">{type.description}</p>

                  <div class="grid sm:grid-cols-3 gap-4 text-sm">
                    <div>
                      <span class="text-green-400 font-medium flex items-center gap-1">
                        <Icon name="CircleCheck" size={14} />
                        Pros
                      </span>
                      <ul class="mt-1 space-y-1 text-[--color-text-muted]">
                        {type.pros.map((pro) => <li>• {pro}</li>)}
                      </ul>
                    </div>
                    <div>
                      <span class="text-red-400 font-medium flex items-center gap-1">
                        <Icon name="CircleX" size={14} />
                        Contras
                      </span>
                      <ul class="mt-1 space-y-1 text-[--color-text-muted]">
                        {type.cons.map((con) => <li>• {con}</li>)}
                      </ul>
                    </div>
                    <div>
                      <span class="text-[--color-accent-primary] font-medium flex items-center gap-1">
                        <Icon name="Star" size={14} />
                        Ideal para
                      </span>
                      <p class="mt-1 text-[--color-text-muted]">{type.bestFor}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Safe Materials -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-[--color-text-primary]">Materiales seguros (y cuáles evitar)</h2>

        <div class="card overflow-hidden">
          <div class="overflow-x-auto">
            <table class="w-full text-sm">
              <thead class="bg-[--color-bg-tertiary]">
                <tr>
                  <th class="text-center py-3 px-2 w-10"></th>
                  <th class="text-left py-3 px-4">Material</th>
                  <th class="text-center py-3 px-4">Código</th>
                  <th class="text-left py-3 px-4">Notas</th>
                </tr>
              </thead>
              <tbody class="text-[--color-text-secondary]">
                {materials.map((mat, i) => (
                  <tr class={`${i % 2 === 0 ? 'bg-[--color-bg-secondary]' : ''} ${!mat.safe ? 'opacity-60' : ''}`}>
                    <td class="py-3 px-2 text-center">
                      <Icon name={mat.icon as any} size={18} class={mat.icon === 'CircleCheck' ? 'text-green-400' : mat.icon === 'AlertTriangle' ? 'text-[--color-status-warning]' : 'text-red-400'} />
                    </td>
                    <td class="py-3 px-4 font-medium text-[--color-text-primary]">{mat.name}</td>
                    <td class="py-3 px-4 text-center">
                      <span class="inline-flex items-center justify-center w-6 h-6 border border-[--color-border] rounded text-xs">
                        {mat.code}
                      </span>
                    </td>
                    <td class="py-3 px-4 text-xs">{mat.notes}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
          <div class="p-4 bg-[--color-bg-tertiary] text-xs text-[--color-text-muted]">
            Busca el símbolo de reciclaje con el número en el fondo del recipiente. HDPE (#2) es el mejor.
          </div>
        </div>
      </div>

      <!-- Water Treatment -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-[--color-text-primary]">Tratamiento y conservación</h2>

        <div class="card overflow-hidden">
          <div class="overflow-x-auto">
            <table class="w-full text-sm">
              <thead class="bg-[--color-bg-tertiary]">
                <tr>
                  <th class="text-left py-3 px-4">Método</th>
                  <th class="text-center py-3 px-4">Duración</th>
                  <th class="text-left py-3 px-4">Notas</th>
                </tr>
              </thead>
              <tbody class="text-[--color-text-secondary]">
                {waterTreatment.map((treat, i) => (
                  <tr class={i % 2 === 0 ? 'bg-[--color-bg-secondary]' : ''}>
                    <td class="py-3 px-4 font-medium text-[--color-text-primary]">{treat.method}</td>
                    <td class="py-3 px-4 text-center font-bold text-[--color-accent-primary]">{treat.duration}</td>
                    <td class="py-3 px-4 text-xs">{treat.notes}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>

        <div class="mt-4 p-4 bg-[--color-status-info]/10 border border-[--color-status-info]/30 rounded-lg">
          <p class="text-sm text-[--color-text-secondary] m-0 flex items-start gap-2">
            <Icon name="Lightbulb" size={18} class="text-[--color-status-info] flex-shrink-0 mt-0.5" />
            <span><strong class="text-[--color-status-info]">Consejo:</strong> El agua del grifo en España ya
            viene tratada y dura 6 meses sin problemas si se almacena correctamente (oscuro, fresco, cerrado).</span>
          </p>
        </div>
      </div>

      <!-- Storage Locations -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-[--color-text-primary]">Dónde almacenar</h2>

        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
          {storageLocations.map((loc) => (
            <div class="card p-4">
              <h3 class="font-semibold text-[--color-text-primary] mb-1">{loc.location}</h3>
              <p class="text-xs text-[--color-text-muted] mb-2">{loc.temp}</p>
              <p class="text-sm text-green-400 mb-1 flex items-center gap-1">
                <Icon name="CircleCheck" size={14} />
                {loc.pros}
              </p>
              <p class="text-sm text-red-400 flex items-center gap-1">
                <Icon name="CircleX" size={14} />
                {loc.cons}
              </p>
            </div>
          ))}
        </div>

        <div class="mt-4 p-4 bg-[--color-status-warning]/10 border border-[--color-status-warning]/30 rounded-lg">
          <p class="text-sm text-[--color-text-secondary] m-0 flex items-start gap-2">
            <Icon name="AlertTriangle" size={18} class="text-[--color-status-warning] flex-shrink-0 mt-0.5" />
            <span><strong class="text-[--color-status-warning]">Regla de oro:</strong> Oscuro, fresco (10-20°C),
            alejado de productos químicos y gasolina. NUNCA al sol directo.</span>
          </p>
        </div>
      </div>

      <!-- Recommendations -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-[--color-text-primary]">Recomendaciones por uso</h2>

        <div class="space-y-4">
          {recommendations.map((rec) => (
            <div class={`card p-6 ${rec.priority === 'essential' ? 'border-l-4 border-l-red-500' : rec.priority === 'recommended' ? 'border-l-4 border-l-[--color-accent-primary]' : ''}`}>
              <div class="flex items-start justify-between gap-4 mb-3">
                <div>
                  <span class={`text-xs px-2 py-1 rounded ${rec.priority === 'essential' ? 'bg-red-500/20 text-red-400' : rec.priority === 'recommended' ? 'bg-[--color-accent-primary]/20 text-[--color-accent-primary]' : 'bg-[--color-bg-tertiary] text-[--color-text-muted]'}`}>
                    {rec.priority === 'essential' ? 'Esencial' : rec.priority === 'recommended' ? 'Recomendado' : 'Opcional'}
                  </span>
                  <span class="text-xs text-[--color-text-muted] ml-2">{rec.type}</span>
                </div>
                <span class="font-bold text-[--color-accent-primary]">{rec.price}</span>
              </div>

              <h3 class="font-semibold text-[--color-text-primary] mb-2">{rec.name}</h3>

              <div class="flex flex-wrap gap-2 mb-3">
                {rec.features.map((feature) => (
                  <span class="text-xs px-2 py-1 bg-[--color-bg-tertiary] text-[--color-text-muted] rounded">
                    {feature}
                  </span>
                ))}
              </div>

              <p class="text-sm text-[--color-text-secondary] m-0">
                <strong>Veredicto:</strong> {rec.verdict}
              </p>
            </div>
          ))}
        </div>
      </div>

      <!-- Suggested Kit -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-[--color-text-primary]">Kit de agua sugerido</h2>

        <div class="card p-6">
          <p class="text-sm text-[--color-text-secondary] mb-4">
            Para una familia de 4 personas para 3 días:
          </p>

          <div class="overflow-x-auto">
            <table class="w-full text-sm">
              <thead>
                <tr class="border-b border-[--color-border]">
                  <th class="text-left py-2">Artículo</th>
                  <th class="text-center py-2">Cantidad</th>
                  <th class="text-left py-2">Notas</th>
                </tr>
              </thead>
              <tbody class="text-[--color-text-secondary]">
                {kitSuggestion.map((item) => (
                  <tr class="border-b border-[--color-border]">
                    <td class="py-2">{item.item}</td>
                    <td class="py-2 text-center font-bold text-[--color-accent-primary]">{item.qty}</td>
                    <td class="py-2 text-xs text-[--color-text-muted]">{item.notes}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>

          <div class="mt-4 pt-4 border-t border-[--color-border] text-center">
            <p class="text-sm text-[--color-text-muted]">
              Inversión aproximada: <strong class="text-[--color-accent-primary]">30-60€</strong> (contenedores reutilizables)
            </p>
          </div>
        </div>
      </div>

      <!-- Product Recommendations -->
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-[--color-text-primary] flex items-center gap-2">
          <Icon name="ShoppingCart" size={24} class="text-[--color-accent-primary]" />
          Productos recomendados
        </h2>
        <ProductGrid products={amazonProducts} title="Bidones y accesorios para agua" />
      </div>

      <!-- Common Mistakes -->
      <div class="card p-6 mb-8 border-l-4 border-l-red-500">
        <h3 class="font-semibold mb-4 text-[--color-text-primary] flex items-center gap-2">
          <Icon name="CircleX" size={20} class="text-red-400" />
          Errores comunes a evitar
        </h3>
        <ul class="grid sm:grid-cols-2 gap-2 text-sm text-[--color-text-secondary]">
          {commonMistakes.map((mistake) => (
            <li>• {mistake}</li>
          ))}
        </ul>
      </div>

      <!-- Rotation Schedule -->
      <div class="card p-6 mb-8">
        <h3 class="font-semibold mb-4 text-[--color-text-primary] flex items-center gap-2">
          <Icon name="Calendar" size={20} class="text-[--color-accent-primary]" />
          Calendario de rotación
        </h3>
        <div class="space-y-3 text-sm text-[--color-text-secondary]">
          <div class="flex items-center gap-3">
            <span class="font-mono bg-[--color-bg-tertiary] px-2 py-1 rounded">Cada 6 meses</span>
            <span>Rotar agua del grifo almacenada en bidones</span>
          </div>
          <div class="flex items-center gap-3">
            <span class="font-mono bg-[--color-bg-tertiary] px-2 py-1 rounded">Cada 2 años</span>
            <span>Revisar agua embotellada comercial (caducidad)</span>
          </div>
          <div class="flex items-center gap-3">
            <span class="font-mono bg-[--color-bg-tertiary] px-2 py-1 rounded">Cada 5 años</span>
            <span>Renovar pastillas potabilizadoras</span>
          </div>
          <p class="text-xs text-[--color-text-muted] mt-2">
            Consejo: Usa el sistema FIFO (primero en entrar, primero en salir). Pon fecha en cada bidón.
          </p>
        </div>
      </div>

      <!-- Add to Kit Section -->
      <div class="card p-6 mb-8 bg-gradient-to-r from-blue-500/10 to-blue-600/5 border border-blue-500/20">
        <h3 class="font-semibold mb-4 text-[--color-text-primary] flex items-center gap-2">
          <Icon name="CheckSquare" size={20} class="text-blue-400" />
          Añadir a tu checklist
        </h3>
        <p class="text-sm text-[--color-text-secondary] mb-4">
          Marca estos items en tu Kit Builder para llevar un seguimiento de tu preparación.
        </p>
        <div class="flex flex-wrap gap-3">
          {relatedKitItems.map((item) => (
            <div class="flex items-center gap-2 bg-[--color-bg-secondary] rounded-lg px-3 py-2">
              <span class="text-sm text-[--color-text-primary]">{item.name}</span>
              <AddToKitButton client:idle itemId={item.id} size="sm" />
            </div>
          ))}
        </div>
      </div>

      <!-- Related Links -->
      <div class="flex flex-wrap gap-4 justify-center">
        <a
          href="/es/guias/almacenamiento-agua/"
          class="inline-flex items-center gap-2 px-4 py-2 border border-[--color-border] text-sm font-medium rounded hover:border-[--color-accent-primary] hover:text-[--color-accent-primary] transition-colors"
        >
          Guía completa: Almacenamiento de Agua
        </a>
        <a
          href="/es/herramientas/calculadora-agua/"
          class="inline-flex items-center gap-2 px-4 py-2 bg-[--color-accent-primary] text-[--color-bg-primary] text-sm font-medium rounded hover:bg-[--color-accent-secondary] transition-colors"
        >
          Calculadora de Agua →
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
